import{a as A}from"./chunk-CRWFYTIW.js";import{a as b}from"./chunk-4C673EGL.js";import{b as R}from"./chunk-5YP3M5XQ.js";import{a as V}from"./chunk-YMIDEEEQ.js";import{C as x,F,G as h,I as y,K as N,M as q,Q as P,S as k,u as U,w as s,y as C,z as S}from"./chunk-OAEFFKSC.js";import{h as B,ia as v,j as g}from"./chunk-M46FHHWK.js";import"./chunk-JGYM447R.js";import{Eb as M,Fb as I,Hb as D,Ib as L,Jb as t,Kb as r,Lb as u,Sb as d,Ub as G,db as m,ec as a,fc as T,ka as n,mc as f,oa as c,xb as E,zb as p}from"./chunk-HFQC3EG6.js";var _=class o{fb=n(y);accountService=n(R);router=n(g);activatedRoute=n(B);returnUrl="/shop";constructor(){let i=this.activatedRoute.snapshot.queryParams.returnUrl;i&&(this.returnUrl=i)}loginForm=this.fb.group({email:[""],password:[""]});onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>{this.accountService.getUserInfo().subscribe(),this.router.navigateByUrl(this.returnUrl)}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-login"]],standalone:!0,features:[f],decls:15,vars:1,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["appearance","outline",1,"w-full","mb-4"],["formControlName","email","type","email","placeholder","name@example.com","matInput",""],["formControlName","password","type","password","placeholder","Password","matInput",""],["mat-flat-button","","type","submit",1,"w-full","py-2"]],template:function(e,l){e&1&&(t(0,"mat-card",0)(1,"form",1),d("ngSubmit",function(){return l.onSubmit()}),t(2,"div",2)(3,"h1",3),a(4,"Login"),r()(),t(5,"mat-form-field",4)(6,"mat-label"),a(7,"Email address"),r(),u(8,"input",5),r(),t(9,"mat-form-field",4)(10,"mat-label"),a(11,"Password"),r(),u(12,"input",6),r(),t(13,"button",7),a(14,"Sign in"),r()()()),e&2&&(m(),p("formGroup",l.loginForm))},dependencies:[N,x,U,C,S,F,h,b,P,k,v,q]})};function H(o,i){if(o&1&&(t(0,"li"),a(1),r()),o&2){let e=i.$implicit;m(),T(e)}}function K(o,i){if(o&1&&(t(0,"div",8)(1,"ul",10),D(2,H,2,1,"li",null,I),r()()),o&2){let e=G();m(2),L(e.validationErrors)}}var w=class o{fb=n(y);accountService=n(R);router=n(g);snack=n(A);validationErrors;registerForm=this.fb.group({firstName:["",s.required],lastName:["",s.required],email:["",[s.required,s.email]],password:["",s.required]});onSubmit(){this.accountService.register(this.registerForm.value).subscribe({next:()=>{this.snack.success("Registration successful - you can now login"),this.router.navigateByUrl("/account/login")},error:i=>this.validationErrors=i})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-register"]],standalone:!0,features:[f],decls:12,vars:3,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["label","First name","formControlName","firstName"],["label","Last name","formControlName","lastName"],["label","Email address","formControlName","email"],["label","Password","formControlName","password","type","password"],[1,"mb-3","p-4","bg-red-100","text-red-600"],["mat-flat-button","","type","submit",1,"w-full","py-2",3,"disabled"],[1,"list-disc","px-3"]],template:function(e,l){e&1&&(t(0,"mat-card",0)(1,"form",1),d("ngSubmit",function(){return l.onSubmit()}),t(2,"div",2)(3,"h1",3),a(4,"Register"),r()(),u(5,"app-text-input",4)(6,"app-text-input",5)(7,"app-text-input",6)(8,"app-text-input",7),E(9,K,4,0,"div",8),t(10,"button",9),a(11,"Register"),r()()()),e&2&&(m(),p("formGroup",l.registerForm),m(8),M(l.validationErrors?9:-1),m(),p("disabled",l.registerForm.invalid))},dependencies:[N,x,C,S,F,h,b,v,V]})};var be=[{path:"login",component:_},{path:"register",component:w}];export{be as accountRoutes};
