# ArtStore E-commerce website

# 1. Project components

## 1.1. API

An API controller that has API endpoints

## 1.2. Infrastructure

Makes data access requests
Contains DbContext class to maintains connection with the database

## 1.3. Core

Stores entities

# Steps in VS Code

## Create .Net projects

1. Create .Net projects: API, Core, Infrastructure.
   Setup dependencies for these projects (dotnet add reference).
   Modify services, middlewares, project files, appsettings as needed.
2. Create first entity (product).
   Set up Entity Framework: Install nuget. Install EF SqlServer, Design in nuget
   Add DbContext, StoreContext.
   Add the service to program.cs
3. Set up SQL Server using Docker
   Create docker-compose.yml and run `docker compose up -d`
4. Connect to SqlServer
   Set up ConnectionStrings in appsettings
   Install nuget package `dotnet-ef`
5. Configure the entities for the migration to fix the warning (about Price) when making migrations
   Override OnModelCreating in StoreContext
   Add Config in Infrastructure
   Add migrations, update database
   Add a new SQL Server connection
6. Create a products controller
   Create API endpoints for product and test in Postman

## API Architecture

7. Create Interface for ProductRepository in Core and its implementation class in Infrastructure
   Add scoped service to program.cs
8. Implement the repository methods
   Inject StoreContext to the repository class
   Update the product controller
9. Add seed data
10. Add Get authors, types; Filter products by author and type; Sort products by price

## The specification pattern

11. Create a generic repository
    Add service to program.cs
    Implement the generic repository methods
12. Set up specification classes
    Update the repository to use the specification
    Add sorting to the specification
13. Add projection to the specification

## Add Sort, Filter, Search, Pagination

14. Create product spec parameters to improve the old filtering and sorting methods
15. Add pagination
    Add Take, Skip, IsPagingEnabled properties to the specification.
    Add ApplyPaging method.
    Set MaxPageSize, PageIndex, PageSize in ProductSpecParams.
    Add ApplyPaging method to ProductSpecification.
    Create Pagination class in RequestHelpers.
    Update ProductControllers.
16. Create BaseApiController to improve the API
17. Add search functionality
18. Error handling: to handle errors so we can configure theUI in the client for all errors generated by the API
    Add a test controller for error handling.
    Add a middleware to handle errors: return error as a JSON response
    Create a data transfer object CreateProductDto, add validation for Product properties

## Angular Setup

19. Install Angular CLI
20. Create Angular project
21. Set up VS Code for Angular
22. Set up Angular to use HTTPS
23. Add Angular Material and Tailwind CSS
24. Add components
    Add folders to Angular app: core, shared, features, layout
    Create components
25. Add a Header component
26. Make http requests
    Add provideHttpClient to app.config.ts
    Inject HttpClient in app.component.ts
    Implement OnInit in app.component.ts
27. Add product and pagination models in app/shared to use typescript types

## Build the User Interface for the shop

28. Add shop service to get products from API
    Move codes from the component to the service
29. Add product item component
30. Add filtering functionality using Material Dialog
31. Add sorting functionality
32. Add shopParams model to supply parameters for the API request
33. Add pagination to the client using Material
34. Add search functionality to the client

## Angular routing

35. Create home, product details components and routes
36. Set up links in the app
37. Design the product details page

## Client side error handing and loading

38. Create a test error component
39. Create NotFound and Server Error components
40. Create an HTTP Interceptor for handling API errors
41. Add toast(snackbar) notifications
42. Handle validation errors from the API
43. Configure Server Error, Not Found pages
44. Handle loading:
    Add an HTTP Interceptor for loading
    Add a progress bar to indicate loading
    Make the header fixed to the top

## API - Shopping Cart

45. Create API for Shopping Cart
    Create Redis instance to use in the app. Use Redis database because customer shopping cart is still saved in the server but the number of requests to the server is reduced. Redis captures data every minute so customer might loose some items in cart but it's easy for them to add the items back.
    Add Redis to the project.
    Create CartItem, ShoppingCart classes
    Create Cart service, Cart controller
    Test the Cart in Postman

## Client - Shopping Cart

46. Add the cart feature to the angular app.
    Learn to use signals in Angular
47. Create cart components
    Install nanoid
48. Add the Cart service methods
49. Add an item to the cart
50. Use add item functionality in the product item
51. Persist the cart
52. Update the nav bar with the cart item count
53. Create order summary component
54. Create tje order totals
55. Add more functions the the service: add, remove, delete items with quantity
    Add these to the cart
56. Add the update cart functionality to the product details
57. Create the checkout components for future

# Concepts learned and practiced

## Repository pattern

## Generic repository

## Deferred execution

## Angular: Signals
